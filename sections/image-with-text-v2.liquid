<div class="image-with-text-v2 section-{{ section.id }}">
  <div class="page-width">
    {% comment %}
      <div class="image-with-text-v2-background"></div>
    {% endcomment %}
    <div class="image-with-text-v2__wrapper" style="background-color: {{ section.settings.background_color }};">
      <div class="image-with-text-v2__content-wrapper">
        {% if section.settings.heading != blank %}
          <h2 class="image-with-text-v2__heading">{{ section.settings.heading }}</h2>
        {% endif %}

        {% if section.settings.text != blank %}
          <div class="image-with-text-v2__text">{{ section.settings.text }}</div>
        {% endif %}

        {% if section.settings.button_label != blank and section.settings.button_link != blank %}
          <div class="image-with-text-v2__button-wrapper">
            <a
              href="{{ section.settings.button_link }}"
              class="button image-with-text-v2__button"
              style="background-color: {{ section.settings.button_background_color }};
                                                                                                                      color: {{ section.settings.button_text_color }};">
              {{ section.settings.button_label }}
            </a>
          </div>
        {% endif %}
      </div>

      <div class="image-with-text-v2__image-wrapper">
        {% if section.settings.image != blank %}
          <img
            src="{{ section.settings.image | img_url: 'master' }}"
            alt="{{ section.settings.image.alt | default: section.settings.heading }}"
            loading="lazy"
            class="image-with-text-v2__image">
        {% else %}
          {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
        {% endif %}
      </div>
    </div>
  </div>
</div>

<style>
  .image-with-text-v2 {
    padding: 60px 0;
  }
  .image-with-text-v2 .page-width {
    position: relative;
    margin: 0 8rem !important;
    padding: 0 !important;
  }
  .image-with-text-v2-background {
    background-color: #5baa91;
    display: block !important;
    height: auto;
    aspect-ratio: 4 / 1;
    position: absolute;
    bottom: 0;
    left: 0;
    border-radius: 2rem;
    right: 0;
  }

  .image-with-text-v2__wrapper {
    display: flex;
    align-items: center;
    gap: 40px;
    position: relative;
    height: auto;
    aspect-ratio: 4 / 1;
    width: 100%;
    background: #ccc;
    justify-content: space-between;
    margin-top: 10%;
    border-radius: 2rem;
  }

  .image-with-text-v2__content-wrapper {
    flex: 1;
    padding: 20px 20px 40px 4rem;
    max-width: 50%;
  }

  .image-with-text-v2__image-wrapper {
    flex: 1;
    display: flex;
    justify-content: center;
    height: 100%;
    position: relative;
    max-width: 40%;
  }

  .image-with-text-v2__image {
    max-width: 100%;
    height: auto;
    position: absolute;
    bottom: 0;
  }

  .image-with-text-v2__heading {
    font-size: 32px;
    margin-bottom: 20px;
    color: {{ section.settings.heading_color }};
  }

  .image-with-text-v2__text {
    /* margin-bottom: 30px; */
    font-size: 16px;
    line-height: 1.5;
    color: {{ section.settings.text_color }};
  }

  .image-with-text-v2__button {
    display: inline-block;
    padding: 12px 24px;
    border-radius: 30px;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
    background-color: #ffffff;
    display: inline-block;
    padding: 12px 24px;
    background-color: #ffffff;
    text-decoration: none;
    border-radius: 30px;
    font-weight: 600;
    font-size: 14px;
    transition: background-color 0.3s ease;
    border: 2px solid #ffffff;
    display: flex;
    width: fit-content;
    min-width: fit-content;
    padding: 1rem 4rem;
    min-height: fit-content;
    text-transform: none;
    font-size: 14px;
    letter-spacing: 2px;
  }

  .image-with-text-v2__button:hover {
    opacity: 0.9;
  }

  @media(max-width: 1024px) {
    .image-with-text-v2__content-wrapper {
      max-width: fit-content;
      padding-left: 20px;
    }
    .image-with-text-v2__heading {
      font-size: 26px;
      margin-bottom: 0;
    }
    .image-with-text-v2__text {
      margin-bottom: 0;
      font-size: 14px;
    }
    .image-with-text-v2__image-wrapper {
      max-width: 35%;
    }
    .image-with-text-v2__wrapper {
      margin-top: 5%;
    }
  }

  @media screen and (max-width: 768px) {
    .image-with-text-v2__wrapper {
      flex-direction: {{ section.settings.mobile_layout }};
      gap: 20px;
    }
    .image-with-text-v2 .page-width {
      margin: 0 !important;
      padding: 0 3rem !important;
    }
    .image-with-text-v2__heading {
      font-size: 24px;
    }

    .image-with-text-v2__wrapper {
      aspect-ratio: unset;
      gap: 0;
      background: none;
    }
    .image-with-text-v2__image {
      position: static;
    }
    .image-with-text-v2__content-wrapper {
      background-color: {{ section.settings.background_color }};
      border-radius: 2rem;
      margin-top: 3rem;
    }
    .image-with-text-v2__image-wrapper {
      max-width: 40%;
    }

    .image-with-text-v2__content-wrapper {
      margin: 0;
    }
    .image-with-text-v2__wrapper {
      margin-top: 0;
    }
  }

  @media screen and (max-width: 480px) {
    .image-with-text-v2__image-wrapper {
      max-width: 100%;
    }
    .image-with-text-v2__heading {
      margin-top: 6px;
    }

    .image-with-text-v2 .page-width {
      padding: 0 2rem !important;
    }
    .image-with-text-v2__content-wrapper{
      padding-bottom: 30px;  
    }
    .image-with-text-v2__button{
      font-size: 12px;
      padding: 10px 20px;  
    }
  }
</style>

{% schema %}
  {
    "name": "Image with Text V2",
    "settings": [
      {
        "type": "header",
        "content": "Content"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Don't Miss Out!"
      },
      {
        "type": "richtext",
        "id": "text",
        "label": "Text",
        "default": "<p>Join DollarWoofClub now to unlock the best deals in the pet game and treat your furry friend like the royalty they are â€” without spending like one.</p>"
      },
      {
        "type": "text",
        "id": "button_label",
        "label": "Button Label",
        "default": "Sign Up & Start Saving"
      }, {
        "type": "url",
        "id": "button_link",
        "label": "Button Link"
      }, {
        "type": "header",
        "content": "Image"
      }, {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      }, {
        "type": "select",
        "id": "image_position",
        "label": "Image Position",
        "options": [
          {
            "value": "left",
            "label": "Left"
          }, {
            "value": "right",
            "label": "Right"
          }
        ],
        "default": "right"
      }, {
        "type": "header",
        "content": "Colors"
      }, {
        "type": "color",
        "id": "background_color",
        "label": "Background Color",
        "default": "#5baa91"
      }, {
        "type": "color",
        "id": "heading_color",
        "label": "Heading Color",
        "default": "#ffffff"
      }, {
        "type": "color",
        "id": "text_color",
        "label": "Text Color",
        "default": "#ffffff"
      }, {
        "type": "color",
        "id": "button_background_color",
        "label": "Button Background Color",
        "default": "#ffffff"
      }, {
        "type": "color",
        "id": "button_text_color",
        "label": "Button Text Color",
        "default": "#5baa91"
      }, {
        "type": "header",
        "content": "Mobile Settings"
      }, {
        "type": "select",
        "id": "mobile_layout",
        "label": "Mobile Layout",
        "options": [
          {
            "value": "column",
            "label": "Content above image"
          }, {
            "value": "column-reverse",
            "label": "Image above content"
          }
        ],
        "default": "column"
      }
    ],
    "presets": [
      {
        "name": "Image with Text V2",
        "category": "Custom Content"
      }
    ]
  }
{% endschema %}